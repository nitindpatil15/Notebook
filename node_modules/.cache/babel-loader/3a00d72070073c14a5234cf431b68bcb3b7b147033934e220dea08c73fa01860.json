{"ast":null,"code":"import React,{useState}from\"react\";import\"./nav.css\";import loginimg from\".//Login.webp\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Login=props=>{const navigate=useNavigate();const[credentials,setcredentials]=useState({email:\"\",password:\"\"});// props.showAlert(\"Login to Your Account\",\"success\")\nconst handleSubmit=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:5000/api/auth/login/\",{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({email:credentials.email,password:credentials.password})});const json=await response.json();console.log(json);if(json.success){// save the auth token and redirect\nlocalStorage.setItem(\"token\",json.authtoken);navigate(\"/\");props.showAlert(\"Successfully Logged in\",\"success\");}else{// alert(\"Invalid Credentials\")\nprops.showAlert(\"Error! Invalid Username or Password\",\"danger\");}}catch(error){alert(\"Error in Login\");console.log(error,\": Failed to Fetch API\");}};const onchange=e=>{setcredentials({...credentials,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"header\",{className:\"for\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,id:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:loginimg,alt:\"login Image\"})}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-center text-primary mb-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-2 container\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",style:{fontSize:\"20px\"},children:[\"Email address\",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:credentials.email,onChange:onchange,minLength:5,className:\"form-control f my-3\",placeholder:\"Enter Your personal email Id\",id:\"email\",\"aria-describedby\":\"emailHelp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-2 container\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",style:{fontSize:\"20px\"},children:[\"Password\",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:onchange,minLength:5,className:\"form-control f my-3\",placeholder:\"Enter strong password\",id:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",style:{fontSize:\"20px\"},className:\"btn btn-primary my-2 \",children:[\" \",\"Submit\",\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Link,{to:\"/signup\",style:{fontSize:\"15px\"},className:\"text-decoration-none text-dark\",children:[\"Don't have login?\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary \",children:\"Register here\"})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]})})]})});};export default Login;","map":{"version":3,"names":["React","useState","loginimg","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","props","navigate","credentials","setcredentials","email","password","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","json","console","log","success","localStorage","setItem","authtoken","showAlert","error","alert","onchange","target","name","value","children","className","onSubmit","id","src","alt","htmlFor","style","fontSize","type","onChange","minLength","placeholder","to"],"sources":["C:/Users/Nitin Patil/OneDrive/Desktop/reactjs/Client/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./nav.css\";\r\nimport loginimg from \".//Login.webp\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n  const navigate = useNavigate();\r\n  const [credentials, setcredentials] = useState({ email: \"\", password: \"\" });\r\n  // props.showAlert(\"Login to Your Account\",\"success\")\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/auth/login/`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email: credentials.email,\r\n          password: credentials.password,\r\n        }),\r\n      });\r\n      const json = await response.json();\r\n      console.log(json);\r\n      if (json.success) {\r\n        // save the auth token and redirect\r\n        localStorage.setItem(\"token\", json.authtoken);\r\n        navigate(\"/\");\r\n        props.showAlert(\"Successfully Logged in\", \"success\");\r\n      } else {\r\n        // alert(\"Invalid Credentials\")\r\n        props.showAlert(\"Error! Invalid Username or Password\", \"danger\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"Error in Login\");\r\n      console.log(error, \": Failed to Fetch API\");\r\n    }\r\n  };\r\n  const onchange = (e) => {\r\n    setcredentials({ ...credentials, [e.target.name]: e.target.value });\r\n  };\r\n  return (\r\n    <>\r\n      <header className=\"for\">\r\n        <br />\r\n        {/* // eslint-disable-next-line  */}\r\n        <form onSubmit={handleSubmit} id=\"login\">\r\n          <div className=\"container\">\r\n            <div className=\"text-center mt-4\">\r\n              <img className=\"img\" src={loginimg} alt=\"login Image\" />\r\n            </div>\r\n            <h5 className=\"text-center text-primary mb-4\">Login</h5>\r\n\r\n            <div className=\"form-group my-2 container\">\r\n              <label htmlFor=\"email\" style={{ fontSize: \"20px\" }}>\r\n                Email address<span className=\"text-danger\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={credentials.email}\r\n                onChange={onchange}\r\n                minLength={5}\r\n                className=\"form-control f my-3\"\r\n                placeholder=\"Enter Your personal email Id\"\r\n                id=\"email\"\r\n                aria-describedby=\"emailHelp\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group my-2 container\">\r\n              <label htmlFor=\"password\" style={{ fontSize: \"20px\" }}>\r\n                Password<span className=\"text-danger\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={credentials.password}\r\n                onChange={onchange}\r\n                minLength={5}\r\n                className=\"form-control f my-3\"\r\n                placeholder=\"Enter strong password\"\r\n                id=\"password\"\r\n              />\r\n            </div>\r\n            <div className=\"container\">\r\n              <button\r\n                type=\"submit\"\r\n                style={{ fontSize: \"20px\" }}\r\n                className=\"btn btn-primary my-2 \"\r\n              >\r\n                {\" \"}\r\n                Submit{\" \"}\r\n              </button>\r\n              <br />\r\n\r\n              <Link\r\n                to=\"/signup\"\r\n                style={{ fontSize: \"15px\" }}\r\n                className=\"text-decoration-none text-dark\"\r\n              >\r\n                Don't have login?{\" \"}\r\n                <span className=\"text-primary \">Register here</span>\r\n              </Link>\r\n              <div></div>\r\n              <br />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}